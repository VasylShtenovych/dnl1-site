{% extends 'dnl1/wrapper.html' %}

{% block title %}
Розклад
{% endblock %}

{% block cssfiles %}
{% load static  %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" />
<link rel="stylesheet" href="{% static 'lib/bootstrap-select/bootstrap-select.css' %}">
<link rel="stylesheet" href="{% static 'schedule/css/schedule.css' %}">
{% endblock %}

{% block content %}
{% include "dnl1/includes/page-title.html" with title='Розклад ' %}
<!--
<div class="container">
    <div class="row">
        <div class="col-4"><a data-fancybox="gallery" href="{% static 'dnl1/images/schedule/1.jpg' %}"><img class="mw-100 mb-3" src="{% static 'dnl1/images/schedule/1.jpg' %}"></a></div>
        <div class="col-4"><a data-fancybox="gallery" href="{% static 'dnl1/images/schedule/2.jpg' %}"><img class="mw-100 mb-3" src="{% static 'dnl1/images/schedule/2.jpg' %}"></a></div>
        <div class="col-4"><a data-fancybox="gallery" href="{% static 'dnl1/images/schedule/3.jpg' %}"><img class="mw-100 mb-3" src="{% static 'dnl1/images/schedule/3.jpg' %}"></a></div>
    </div>
</div>
-->

<div class="container">
		<div class="row align-items-center">
			<div class="col-md-auto dropdowns-pre-text">Клас</div>
			<div class="col-md-auto">
				<form method="get" action="/schedule/">
					{% csrf_token %}
					<select name="class" id="type" class="selectpicker">
						{% for class in all_classes %}
							{% if  class_to_show_id|add:"0" == class.id %}
								<option value="{{class.id}}" selected="selected">{{class}}</option>
							{% else %}
								<option value="{{class.id}}" >{{class}}</option>
							{%endif %}
						{% endfor %}
					</select>
				<input type="submit" value="Обрати">
				</form>
			</div>
		</div>
	</div>


{% if class_schedule %}
{% load index %}
{% load correctindex %}

<div class="container table-responsive">
		<table class="table table-bordered table-bg ">
		  <thead>
		    <tr class="table-headings">
		      <th scope="col">#</th>
		      <th scope="col">Понеділок</th>
		      <th scope="col">Вівторок</th>
		      <th scope="col">Середа</th>
		      <th scope="col">Четвер</th>
		      <th scope="col">П'ятниця</th>
		    </tr>
		  </thead>
		  <tbody>
		  {% for i in range%}
		    <tr>
		      <th scope="row" class="table-headings">{{i}}</th>
				{% for day in class_schedule %}
				<td>
					{% if class_schedule|index:forloop.counter0|correctindex:forloop.parentloop.counter0 %}
						{% with less=class_schedule|index:forloop.counter0|index:forloop.parentloop.counter0 %}
						<div class="lesson"> {{ less }}</div>
						<div class="techer">{{ less.lesson_teacher }}</div>
						{% endwith %}
					{% endif %}
				</td>
				{% endfor %}
		    </tr>
			{% endfor %}
		  </tbody>
		</table>
	</div>

{% endif %}
{% endblock %}


{% block jsfiles %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="{% static 'lib/bootstrap-select/bootstrap-select.js' %}"></script>
{% endblock %}